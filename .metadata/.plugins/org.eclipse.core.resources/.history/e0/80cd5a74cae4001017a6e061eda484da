spring.application.name=PayrollMicroservices
server.port=8086
#eureka
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
#management.health.circuitbreakers.enabled=true
#resilience4j.circuitbreaker.instance.service-employee.recordExceptions=java.lang.IllegalStateException,java.lang.Exception
##
#resilience4j.circuitbreaker.instances.service-employee.registerHealthIndicator=true
#
### 2. Sliding Window:
#resilience4j.circuitbreaker.instances.service-employee.slidingWindowSize=10
##
### 3. Failure Threshold: If 50% of those 10 calls fail, OPEN the circuit
#resilience4j.circuitbreaker.instances.service-employee.failureRateThreshold=50
##
### 4. Wait Duration: How long to stay in OPEN state before trying again (10 seconds)
#resilience4j.circuitbreaker.instances.service-employee.waitDurationInOpenState=10s
#
## 5. Half-Open State: How many test calls to allow once the 10s is up
#resilience4j.circuitbreaker.instances.service-employee.permittedNumberOfCallsInHalfOpenState=3
# 1. Map the instance name to the @CircuitBreaker(name="service-employee")
resilience4j.circuitbreaker.instances.service-employee.registerHealthIndicator=true

# 2. Force the circuit breaker to record the LoadBalancer exception
resilience4j.circuitbreaker.instances.service-employee.record-exceptions=java.lang.IllegalStateException

# 3. (Optional) Set a low threshold for testing so it triggers immediately
resilience4j.circuitbreaker.instances.service-employee.slidingWindowSize=1
resilience4j.circuitbreaker.instances.service-employee.minimumNumberOfCalls=1
